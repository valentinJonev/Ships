{"version":3,"sources":["rootController.ts","configurations/applicationConfiguration.ts","configurations/interceptorsConfiguration.ts","configurations/routeConfiguration.ts","configurations/storageConfiguration.ts","constants/applicationConstants.ts","constants/settingsConstants.ts","controllers/errorController.ts","controllers/indexController.ts","controllers/account/loginController.ts","controllers/account/registerController.ts","controllers/homeController.ts","controllers/invitationConfirmController.ts","controllers/gameCreateController.ts","controllers/gameController.ts","directives/modalDirective.ts","filters/stringFormat.ts","models/account.ts","models/misc.ts","services/authInterceptorService.ts","services/authService.ts","services/hubService.ts","services/errorInterceptorService.ts","_all.ts","app.ts","models/error.ts","models/game.ts"],"names":["Ships","Ships.Web","Ships.Web.RootController","Ships.Web.RootController.constructor","Ships.Web.RootController.logOut","Ships.Web.RootController.errorMessage","Ships.Web.RootController.hasRemoteTokenRequestFailed","Ships.Web.RootController.isPasswordSending","Ships.Web.RootController.redirectToLogin","Ships.Web.RootController.cofigureAuthService","Ships.Web.RootController.configureUnauthenticatedRedirect","Ships.Web.Configurations","Ships.Web.Configurations.configureLoadingBar","Ships.Web.Configurations.confugreInterceptoprs","Ships.Web.Configurations.configureRouting","Ships.Web.Configurations.configureLocalStorage","Ships.Web.Constants","Ships.Web.Constants.UrlState","Ships.Web.Constants.UrlState.constructor","Ships.Web.Constants.ShipsWebPaths","Ships.Web.Constants.ShipsWebPaths.constructor","Ships.Web.Constants.ShipsViewPaths","Ships.Web.Constants.ShipsViewPaths.constructor","Ships.Web.Constants.SharedViewPaths","Ships.Web.Constants.SharedViewPaths.constructor","Ships.Web.Constants.ShipsSettings","Ships.Web.Constants.ShipsSettings.constructor","Ships.Web.Controllers","Ships.Web.Controllers.ErrorController","Ships.Web.Controllers.ErrorController.constructor","Ships.Web.Controllers.ErrorController.scheduleCancel","Ships.Web.Controllers.IndexController","Ships.Web.Controllers.IndexController.constructor","Ships.Web.Controllers.IndexController.redirectToLogin","Ships.Web.Controllers.Account","Ships.Web.Controllers.Account.LoginController","Ships.Web.Controllers.Account.LoginController.constructor","Ships.Web.Controllers.Account.LoginController.login","Ships.Web.Controllers.Account.RegisterController","Ships.Web.Controllers.Account.RegisterController.constructor","Ships.Web.Controllers.Account.RegisterController.register","Ships.Web.Controllers.HomeController","Ships.Web.Controllers.HomeController.constructor","Ships.Web.Controllers.HomeController.createUsersHub","Ships.Web.Controllers.HomeController.invite","Ships.Web.Controllers.HomeController.acceptInvitation","Ships.Web.Controllers.HomeController.createGame","Ships.Web.Controllers.HomeController.getUrlFromCsList","Ships.Web.Controllers.HomeController.getRandomIntBetween","Ships.Web.Controllers.InvitationConfirmController","Ships.Web.Controllers.InvitationConfirmController.constructor","Ships.Web.Controllers.InvitationConfirmController.cancel","Ships.Web.Controllers.InvitationConfirmController.confirm","Ships.Web.Controllers.GameCreateController","Ships.Web.Controllers.GameCreateController.constructor","Ships.Web.Controllers.GameCreateController.addPosition","Ships.Web.Controllers.GameCreateController.removePosition","Ships.Web.Controllers.GameCreateController.addShip","Ships.Web.Controllers.GameCreateController.removeShip","Ships.Web.Controllers.GameCreateController.canBeInShip","Ships.Web.Controllers.GameCreateController.confirm","Ships.Web.Controllers.GameCreateController.reset","Ships.Web.Controllers.GameCreateController.initBoard","Ships.Web.Controllers.GameCreateController.isShipValid","Ships.Web.Controllers.GameCreateController.getLongestDist","Ships.Web.Controllers.GameCreateController.areCoordsInBounds","Ships.Web.Controllers.GameCreateController.isNextToAnyPosition","Ships.Web.Controllers.GameCreateController.isInSameDimension","Ships.Web.Controllers.GameCreateController.setBoard","Ships.Web.Controllers.GameController","Ships.Web.Controllers.GameController.constructor","Ships.Web.Controllers.GameController.createHub","Ships.Web.Controllers.GameController.shoot","Ships.Web.Controllers.GameController.refreshGameDetails","Ships.Web.Controllers.GameController.setBoards","Ships.Web.Controllers.GameController.setBoardSide","Ships.Web.Controllers.GameController.initBoards","Ships.Web.Controllers.GameController.setHits","Ships.Web.Controllers.GameController.getHitsCount","Ships.Web.Controllers.GameController.setCurrentTurn","Ships.Web.Controllers.GameController.canShoot","Ships.Web.Directives","Ships.Web.Directives.ModalDirective","Ships.Web.Directives.ModalDirective.constructor","Ships.Web.Directives.ModalDirective.constructor.postLink","Ships.Web.Filters","Ships.Web.Filters.stringFormat","Ships.Web.Models","Ships.Web.Models.Account","Ships.Web.Models.Account.LoginData","Ships.Web.Models.Account.LoginData.constructor","Ships.Web.Models.Account.UserCreateModel","Ships.Web.Models.Account.UserCreateModel.constructor","Ships.Web.Models.Account.LoginValidation","Ships.Web.Models.Account.LoginValidation.constructor","Ships.Web.Models.Account.Authentication","Ships.Web.Models.Account.Authentication.constructor","Ships.Web.Models.Account.AuthorizedData","Ships.Web.Models.Account.AuthorizedData.constructor","Ships.Web.Models.Account.UserListModel","Ships.Web.Models.Account.UserListModel.constructor","Ships.Web.Models.Account.UserGameModel","Ships.Web.Models.Account.UserGameModel.constructor","Ships.Web.Models.Misc","Ships.Web.Models.Misc.ErrorModel","Ships.Web.Models.Misc.ErrorModel.constructor","Ships.Web.Services","Ships.Web.Services.AuthInterceptorService","Ships.Web.Services.AuthInterceptorService.constructor","Ships.Web.Services.AuthInterceptorService.Factory","Ships.Web.Services.AuthInterceptorService.retryRequest","Ships.Web.Services.AuthInterceptorService.retryRequest.successCallback","Ships.Web.Services.AuthInterceptorService.retryRequest.errorCallback","Ships.Web.Services.AuthInterceptorService.redirectToLogin","Ships.Web.Services.AuthInterceptorService.get$http","Ships.Web.Services.AuthInterceptorService.getAuthService","Ships.Web.Services.AuthInterceptorService.get$state","Ships.Web.Services.AuthService","Ships.Web.Services.AuthService.constructor","Ships.Web.Services.AuthService.login","Ships.Web.Services.AuthService.register","Ships.Web.Services.AuthService.logOut","Ships.Web.Services.AuthService.fillAuthData","Ships.Web.Services.AuthorizationData","Ships.Web.Services.AuthorizationData.constructor","Ships.Web.Services.AuthorizationData.getData","Ships.Web.Services.AuthorizationData.setData","Ships.Web.Services.AuthorizationData.removeData","Ships.Web.Services.HubService","Ships.Web.Services.HubService.constructor","Ships.Web.Services.HubService.startHub","Ships.Web.Services.HubService.createHub","Ships.Web.Services.HubService.redirectToLogin","Ships.Web.Services.ErrorInterceptorService","Ships.Web.Services.ErrorInterceptorService.constructor","Ships.Web.Services.ErrorInterceptorService.Factory","Ships.Web.Services.ErrorInterceptorService.handleBadRequest","Ships.Web.Services.ErrorInterceptorService.showMessage","Ships.Web.Services.ErrorInterceptorService.getMessage","Ships.Web.Services.ErrorInterceptorService.getGlobalErrors","Ships.Web.Services.ErrorInterceptorService.getModelErrors","Ships.Web.initialize","Ships.Web.Models.Error","Ships.Web.Models.Error.BaseApiError","Ships.Web.Models.Error.BaseApiError.constructor","Ships.Web.Models.Error.BadRequestApiError","Ships.Web.Models.Error.BadRequestApiError.constructor","Ships.Web.Models.Error.AuthError","Ships.Web.Models.Error.AuthError.constructor","Ships.Web.Models.Error.BadRequest","Ships.Web.Models.Error.BadRequest.constructor","Ships.Web.Models.Game","Ships.Web.Models.Game.CreateModel","Ships.Web.Models.Game.CreateModel.constructor","Ships.Web.Models.Game.GameSetupCreateModel","Ships.Web.Models.Game.GameSetupCreateModel.constructor","Ships.Web.Models.Game.ShipModel","Ships.Web.Models.Game.ShipModel.constructor","Ships.Web.Models.Game.PositionModel","Ships.Web.Models.Game.PositionModel.constructor","Ships.Web.Models.Game.GameDetailsModel","Ships.Web.Models.Game.GameDetailsModel.constructor","Ships.Web.Models.Game.GameSideModel","Ships.Web.Models.Game.GameSideModel.constructor","Ships.Web.Models.Game.ShotModel","Ships.Web.Models.Game.ShotModel.constructor","Ships.Web.Models.Game.ShotCreateModel","Ships.Web.Models.Game.ShotCreateModel.constructor"],"mappings":"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CA,CAACA;wBAC/FA,MAAMA,CAACA,KAAKA,CAAAA;oBAChBA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAACA,SAASA,CAACA,GAAGA,IAAIA,CAACA,SAASA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBAClEA,MAAMA,CAACA,KAAKA,CAACA;oBACjBA,CAACA;oBAEDA,IAAIA,QAAQA,GAA8BA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA;oBAC5DA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;wBAC3BA,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,QAAQA,CAACA,CAACA,IAAIA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,QAAQA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACzEA,MAAMA,CAACA,KAAKA,CAACA;wBACjBA,CAACA;oBACLA,CAACA;oBAEDA,MAAMA,CAACA,IAAIA,CAACA;gBAChBA,CAACA;gBAEOV,6CAAcA,GAAtBA,UAAuBA,SAAsCA;oBACzDW,IAAIA,IAAIA,GAAWA,EAAEA,EAAEA,IAAIA,GAAWA,EAAEA,EAAEA,IAAIA,GAAWA,CAACA,CAACA,EAAEA,IAAIA,GAAWA,CAACA,CAACA,CAACA;oBAC/EA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,SAASA,CAACA,CAACA,CAACA;wBACtBA,EAAEA,CAACA,CAACA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACxBA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBAC1BA,CAACA;wBACDA,EAAEA,CAACA,CAACA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACxBA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBAC1BA,CAACA;wBACDA,EAAEA,CAACA,CAACA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACxBA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBAC1BA,CAACA;wBACDA,EAAEA,CAACA,CAACA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACxBA,IAAIA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBAC1BA,CAACA;oBACLA,CAACA;oBAEDA,MAAMA,CAACA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,CAACA;gBACzCA,CAACA;gBAEOX,gDAAiBA,GAAzBA,UAA0BA,GAAWA,EAAEA,GAAWA;oBAC9CY,MAAMA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA;2BACtBA,GAAGA,IAAIA,CAACA;2BACRA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA;2BACtBA,GAAGA,IAAIA,CAACA,CAACA;gBACpBA,CAACA;gBAEOZ,kDAAmBA,GAA3BA,UAA4BA,GAAWA,EAAEA,GAAWA;oBAChDa,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA,CAACA;wBACtCA,IAAIA,GAAGA,GAA8BA,IAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA;wBAClEA,EAAEA,CAACA,CAACA,CAACA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA;+BACvCA,CAACA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA;+BAC3CA,CAACA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA;+BAC1CA,CAACA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,GAAGA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;4BACjDA,MAAMA,CAACA,IAAIA,CAACA;wBAChBA,CAACA;oBACLA,CAACA;oBAEDA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBAEOb,gDAAiBA,GAAzBA,UAA0BA,GAAWA,EAAEA,GAAWA;oBAC9Cc,IAAIA,YAAYA,GAAYA,IAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,IAAIA,IAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oBAC7FA,EAAEA,CAACA,CAACA,YAAYA,CAACA,CAACA,CAACA;wBACfA,MAAMA,CAACA,GAAGA,IAAIA,IAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACjDA,CAACA;oBACDA,IAAIA,CAACA,CAACA;wBACFA,MAAMA,CAACA,GAAGA,IAAIA,IAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACjDA,CAACA;gBACLA,CAACA;gBAEOd,uCAAQA,GAAhBA;oBACIe,IAAIA,CAACA,SAASA,EAAEA,CAACA;oBAEjBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA;wBACvBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,SAASA,CAACA,CAACA,C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,CAACA,CAACA,CAACA;4BAEhDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;gCAC7BA,IAAIA,GAAGA,GAA8BA,IAAIA,CAACA,SAASA,CAACA,GAAGA,CAACA,CAACA;gCACzDA,KAAKA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,GAAGA,QAAQA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA;4BAC1CA,CAACA;wBACLA,CAACA;oBACLA,CAACA;oBAEDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA;wBACvBA,IAAIA,IAAIA,GAA0BA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA;wBAEhDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA,CAACA;4BACdA,KAAKA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,GAAGA,CAACA,IAAIA,CAACA;wBAClCA,CAACA;wBACDA,IAAIA,CAACA,CAACA;4BACFA,KAAKA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;wBAC/BA,CAACA;oBACLA,CAACA;gBACLA,CAACA;gBAEON,mCAAUA,GAAlBA;oBACIO,IAAIA,CAACA,YAAYA,GAAGA,EAAEA,CAACA;oBACvBA,IAAIA,CAACA,UAAUA,GAAGA,EAAEA,CAACA;oBACrBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,WAAWA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;wBACxCA,IAAIA,CAACA,YAAYA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,EAAEA,CAACA;wBAC9BA,IAAIA,CAACA,UAAUA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,EAAEA,CAA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","file":"app.min.js","sourcesContent":["/// <reference path=\"_all.ts\" />\r\n\r\nmodule Ships.Web {\r\n    'use strict';\r\n\r\n    export interface IRootScope extends angular.IRootScopeService {\r\n        controller: IRootController;\r\n    }\r\n\r\n    export interface IRootController {\r\n        showLogout: boolean;\r\n\r\n        logOut();\r\n        errorMessage(message: string, time: number);\r\n        errorMessage(message: string, time: number, errorList: string[]);\r\n        hasRemoteTokenRequestFailed(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean;\r\n        isPasswordSending(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean;\r\n    }\r\n\r\n    export class RootController implements IRootController {\r\n        private redirectedToLogin: boolean = false;\r\n\r\n        public showLogout: boolean;\r\n\r\n        constructor(private $rootScope: IRootScope,\r\n            private $state: angular.ui.IStateService,\r\n            private $uibModal: angular.ui.bootstrap.IModalService,\r\n            private authService: Services.IAuthService,\r\n            private shipsServiceUrls: Constants.ShipsServiceUrls,\r\n            private shipsWebPaths: Constants.ShipsWebPaths,\r\n            private shipsViewPaths: Constants.ShipsViewPaths) {\r\n            $rootScope.controller = this;\r\n\r\n            this.cofigureAuthService();\r\n            this.configureUnauthenticatedRedirect($rootScope);\r\n        }\r\n\r\n        public logOut() {\r\n            this.authService.logOut();\r\n            this.redirectToLogin();\r\n        }\r\n\r\n        public errorMessage(message: string, time: number, errorList: string[] = null) {\r\n            var modalInstance = this.$uibModal.open({\r\n                animation: true,\r\n                templateUrl: this.shipsViewPaths.error,\r\n                controller: 'errorController',\r\n                size: 'md',\r\n                resolve: {\r\n                    message: function () {\r\n                        return message;\r\n                    },\r\n                    time: function () {\r\n                        return time;\r\n                    },\r\n                    errorList: function () {\r\n                        return errorList ? errorList : [];\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        \r\n        public hasRemoteTokenRequestFailed(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean {\r\n            return rejection.status === 400\r\n                && rejection.config.url == this.shipsServiceUrls.authenticationServiceUrl\r\n                && this.$state.current.name != this.shipsWebPaths.accountLogin.state;\r\n        };\r\n\r\n        public isPasswordSending(rejection: angular.IHttpPromiseCallbackArg<{}>): boolean {\r\n            return rejection.config.url == this.shipsServiceUrls.authenticationServiceUrl\r\n                && this.$state.current.name == this.shipsWebPaths.accountLogin.state;\r\n        }\r\n\r\n        private redirectToLogin() {\r\n            this.$state.go(this.shipsWebPaths.accountLogin.state);\r\n            this.redirectedToLogin = true;\r\n            setTimeout(() => {\r\n                this.redirectedToLogin = false;\r\n            }, 200);\r\n        }\r\n\r\n        private cofigureAuthService() {\r\n            this.authService.fillAuthData();\r\n        }\r\n\r\n        private configureUnauthenticatedRedirect($rootScope: IRootScope) {\r\n            $rootScope.$on('$stateChangeStart', this.onNewUrlState);\r\n        }\r\n\r\n        private onNewUrlState = (e: angular.IAngularEvent, toState: angular.ui.IState, toParams: angular.ui.IStateParams, fromState: angular.ui.IState, fromParams: angular.ui.IStateParams) => {\r\n            if (!this.authService.authentication.isAuth\r\n                && !this.redirectedToLogin\r\n                && toState.name != this.shipsWebPaths.accountLogin.state\r\n                && toState.name != this.shipsWebPaths.accountRegister.state) {\r\n                e.preventDefault();\r\n                this.redirectToLogin();\r\n            }\r\n            else {\r\n                this.showLogout = true;\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Configurations {\r\n    'use strict';\r\n    \r\n    //TODO: find interface\r\n    export function configureLoadingBar(cfpLoadingBarProvider: any) {\r\n        cfpLoadingBarProvider.includeSpinner = false;\r\n    }\r\n}\r\n\r\n\r\n","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Configurations {\r\n    'use strict';\r\n\r\n    export function confugreInterceptoprs($httpProvider: angular.IHttpProvider) {\r\n        $httpProvider.interceptors.push(Services.AuthInterceptorService.Factory);\r\n        $httpProvider.interceptors.push(Services.ErrorInterceptorService.Factory);\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Configurations {\r\n    'use strict';\r\n\r\n\r\n    export function configureRouting($stateProvider: angular.ui.IStateProvider,\r\n        $urlRouterProvider: angular.ui.IUrlRouterProvider,\r\n        $locationProvider: angular.ILocationProvider,\r\n        shipsWebPaths: Constants.ShipsWebPaths,\r\n        shipsViewPaths: Constants.ShipsWebPaths,\r\n        shipsServiceUrls: Constants.ShipsWebPaths) {\r\n\r\n        $stateProvider.state(shipsWebPaths.home.state, {\r\n            url: shipsWebPaths.home.url,\r\n            controller: \"homeController\",\r\n            templateUrl: shipsViewPaths.home\r\n        });\r\n\r\n        $stateProvider.state(shipsWebPaths.game.state, {\r\n            url: shipsWebPaths.game.url,\r\n            controller: \"gameController\",\r\n            templateUrl: shipsViewPaths.game,\r\n            params: {\r\n                game_id: 0,\r\n                service_url: null\r\n            }\r\n        });\r\n\r\n        $stateProvider.state(shipsWebPaths.accountLogin.state, {\r\n            url: shipsWebPaths.accountLogin.url,\r\n            controller: \"loginController\",\r\n            templateUrl: shipsViewPaths.accountLogin\r\n        });\r\n\r\n        $stateProvider.state(shipsWebPaths.accountRegister.state, {\r\n            url: shipsWebPaths.accountRegister.url,\r\n            controller: \"account.registerController\",\r\n            templateUrl: shipsViewPaths.accountRegister\r\n        });\r\n\r\n        $urlRouterProvider.otherwise(shipsWebPaths.home.url);\r\n\r\n        // use the HTML5 History API\r\n        $locationProvider.html5Mode({\r\n            enabled: false,\r\n            requireBase: true\r\n        });\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Configurations {\r\n    'use strict';\r\n    \r\n    export function configureLocalStorage(localStorageServiceProvider: angular.local.storage.ILocalStorageServiceProvider) {\r\n        localStorageServiceProvider\r\n            .setPrefix('ships-web')\r\n            .setStorageType('localStorage');\r\n    }\r\n}","module Ships.Web.Constants {\r\n    'use strict';\r\n\r\n    export class UrlState {\r\n        url: string;\r\n        state: string;\r\n    }\r\n\r\n    export class ShipsWebPaths {\r\n        accountLogin: UrlState;\r\n        accountRegister: UrlState;\r\n        home: UrlState;\r\n        game: UrlState;\r\n\r\n        constructor() {\r\n            this.accountLogin = { url: '/login', state: 'login' };\r\n            this.accountRegister = { url: '/register', state: 'register' };\r\n            this.home = { url: '/home', state: 'home' };\r\n            this.game = { url: '/game/{game_id:int}/{service_url}', state: 'game' };\r\n        }\r\n    }\r\n\r\n    export class ShipsViewPaths {\r\n        shared: SharedViewPaths;\r\n        accountLogin: string;\r\n        accountRegister: string;\r\n        home: string\r\n        error: string;\r\n        invitationConfirm: string;\r\n        gameCreate: string;\r\n        game: string;\r\n\r\n        constructor() {\r\n            this.shared = { modal: './views/shared/modalTemplate.html' };\r\n            this.accountLogin = './views/account/login.html';\r\n            this.accountRegister = './views/account/register.html';\r\n            this.home = './views/home.html';\r\n            this.error = './views/error.html';\r\n            this.invitationConfirm = './views/invitationConfirm.html';\r\n            this.gameCreate = './views/gameCreate.html';\r\n            this.game = './views/game.html';\r\n        }\r\n    }\r\n\r\n    export class SharedViewPaths {\r\n        modal: string\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Constants {\r\n    'use strict'\r\n\r\n    export class ShipsSettings {\r\n        clientId: string;\r\n\r\n        constructor() {\r\n            this.clientId = '2261c0d1-3e69-4275-ad9a-3ab15bab0e3c';\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers {\r\n    'use strict';\r\n\r\n    export interface IErrorScope extends angular.IScope {\r\n        controller: IErrorController;\r\n    }\r\n\r\n    export interface IErrorController {\r\n        model: Ships.Web.Models.Misc.ErrorModel;\r\n        cancel: () => void;\r\n    }\r\n\r\n    export class ErrorController implements IErrorController {\r\n        static $inject = ['$scope', '$uibModalInstance', 'message', 'time', 'errorList'];\r\n\r\n        public model: Ships.Web.Models.Misc.ErrorModel;\r\n\r\n        constructor($scope: IErrorScope, private $uibModalInstance: angular.ui.bootstrap.IModalServiceInstance, message: string, time: number, errorList: string[]) {\r\n            $scope.controller = this;\r\n\r\n            this.scheduleCancel(time);\r\n            this.model = new Models.Misc.ErrorModel(message, errorList);\r\n        }\r\n\r\n        public cancel = () => {\r\n            this.$uibModalInstance.dismiss('cancel');\r\n        }\r\n\r\n        private scheduleCancel(time: number) {\r\n            setTimeout(this.cancel, time);\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers {\r\n    'use strict';\r\n\r\n    export interface IIndexScope extends angular.IScope {\r\n        viewModel: IIndexController;\r\n    }\r\n\r\n    export interface IIndexController {\r\n        authentication: Models.Account.Authentication;\r\n    }\r\n\r\n    export class IndexController implements IIndexController {\r\n        static $inject = ['$scope', '$state', 'authService', 'shipsWebPaths'];\r\n\r\n        public authentication: Models.Account.Authentication;\r\n        \r\n        constructor(private $scope: IIndexScope, private $state: angular.ui.IStateService, private authService: Services.IAuthService, private shipsWebPaths: Constants.ShipsWebPaths) {\r\n            $scope.viewModel = this;\r\n\r\n            this.authentication = authService.authentication;\r\n        }\r\n\r\n        private redirectToLogin() {\r\n            this.authService.logOut();\r\n            this.$state.go(this.shipsWebPaths.accountLogin.state);\r\n        }\r\n    }\r\n}","/// <reference path=\"../../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers.Account {\r\n    'use strict';\r\n    import constants = Ships.Web.Constants;\r\n    import models = Ships.Web.Models.Account;\r\n\r\n    export interface ILoginScope extends angular.IScope {\r\n        controller: ILoginController;\r\n        loginForm: angular.IFormController;\r\n    }\r\n\r\n    export interface ILoginController {\r\n        errorMessage: string;\r\n        loginData: models.LoginData;\r\n        val: models.LoginValidation;\r\n        loginForm: angular.IFormController;\r\n\r\n        login(): void;\r\n    }\r\n\r\n    export class LoginController {\r\n        static $inject = ['$scope', '$state', 'authService', 'shipsWebPaths'];\r\n\r\n        errorMessage: string;\r\n        loginData: models.LoginData;\r\n        val: models.LoginValidation;\r\n        loginForm: angular.IFormController;\r\n        \r\n        constructor(private $scope: ILoginScope, private $state: angular.ui.IStateService, private authService: Services.IAuthService, private shipsWebPaths: constants.ShipsWebPaths) {\r\n            $scope.controller = this;\r\n\r\n            this.errorMessage = \"\";\r\n\r\n            this.loginData = {\r\n                userName: \"\",\r\n                password: \"\",\r\n                rememberMe: \"\"\r\n            };\r\n\r\n            this.val = {\r\n                usernameMinLength: 3,\r\n                usernameMaxLength: 100,\r\n                passwordMinLength: 6,\r\n                passwordMaxLength: 100\r\n            };\r\n        }\r\n\r\n        public login() {\r\n            this.errorMessage = \"\";\r\n\r\n            if (this.$scope.loginForm.$valid) {\r\n                this.authService.login(this.loginData).then(this.onLoginSucccess, this.onLoginFail);\r\n            }\r\n            else {\r\n                this.loginForm.$submitted = true;\r\n            }\r\n        }\r\n        \r\n        private onLoginSucccess = (response: Models.Account.AuthorizedData) => {\r\n            this.$state.go(this.shipsWebPaths.home.state);\r\n        }\r\n        \r\n        private onLoginFail = (response: angular.IHttpPromiseCallbackArg<Models.Error.AuthError>) => {\r\n            if (response.data) {\r\n                this.errorMessage = response.data.error;\r\n            }\r\n\r\n            this.loginData.password = '';\r\n        }\r\n    }\r\n}","/// <reference path=\"../../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers.Account {\r\n    'use strict';\r\n    import constants = Ships.Web.Constants;\r\n    import models = Ships.Web.Models.Account;\r\n\r\n    export interface IRegisterScope extends angular.IScope {\r\n        controller: IRegisterController;\r\n        registerForm: angular.IFormController;\r\n    }\r\n\r\n    export interface IRegisterController {\r\n        errorMessage: string;\r\n        model: models.UserCreateModel;\r\n        repeatPassword: string;\r\n\r\n        register(): void;\r\n    }\r\n\r\n    export class RegisterController implements IRegisterController {\r\n        static $inject = ['$scope', '$state', 'authService', 'shipsWebPaths'];\r\n\r\n        errorMessage: string;\r\n        model: models.UserCreateModel;\r\n        repeatPassword: string;\r\n        \r\n        constructor(private $scope: IRegisterScope, private $state: angular.ui.IStateService, private authService: Services.IAuthService, public shipsWebPaths: constants.ShipsWebPaths) {\r\n            $scope.controller = this;\r\n\r\n            this.errorMessage = \"\";\r\n\r\n            this.model = {\r\n                username: \"\",\r\n                password: \"\"\r\n            };\r\n        }\r\n\r\n        public register() {\r\n            this.errorMessage = \"\";\r\n\r\n            if (this.$scope.registerForm.$valid) {\r\n                this.authService.register(this.model).then(this.onRegisterSucccess, this.onRegisterFail);\r\n            }\r\n            else {\r\n                this.$scope.registerForm.$submitted = true;\r\n            }\r\n        }\r\n        \r\n        private onRegisterSucccess = (response: Models.Account.AuthorizedData) => {\r\n            this.$state.go(this.shipsWebPaths.accountLogin.state);\r\n        }\r\n\r\n        private onRegisterFail = (response: angular.IHttpPromiseCallbackArg<Models.Error.BaseApiError>) => {\r\n            if (response.data) {\r\n                this.errorMessage = response.data.message;\r\n            }\r\n\r\n            this.model.password = '';\r\n            this.repeatPassword = '';\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers {\r\n    'use strict';\r\n\r\n    export interface IHomeScope extends angular.IScope {\r\n        controller: IHomeController;\r\n    }\r\n\r\n    export interface IHomeController {\r\n        shipsWebPaths: Constants.ShipsWebPaths;\r\n        users: Models.Account.UserListModel[];\r\n        hasInvitedSomeone: boolean;\r\n    }\r\n\r\n    export class HomeController implements IHomeController {\r\n        static $inject = ['$rootScope', '$scope', '$http', '$state', 'shipsWebPaths', 'shipsServiceUrls', 'shipsViewPaths', 'Hub', '$uibModal', 'hubService', 'authService'];\r\n        \r\n        private usersHub: ngSignalr.Hub;\r\n        private currentLocaleId: number;\r\n\r\n        public hasInvitedSomeone: boolean = false;\r\n        public users: Models.Account.UserListModel[];\r\n\r\n        constructor(private $rootScope: IRootScope, private $scope: IHomeScope,\r\n            private $http: angular.IHttpService, private $state: angular.ui.IStateService,\r\n            public shipsWebPaths: Constants.ShipsWebPaths, private shipsServiceUrls: Constants.ShipsServiceUrls, private shipsViewPaths: Constants.ShipsViewPaths,\r\n            private Hub: ngSignalr.HubFactory, private $uibModal: angular.ui.bootstrap.IModalService,\r\n            private hubService: Services.HubService, private authService: Services.IAuthService) {\r\n            $scope.controller = this;\r\n\r\n            this.currentLocaleId = this.authService.authorizationData.getData().locale_id;\r\n            this.createUsersHub();\r\n        }\r\n\r\n        private createUsersHub(): void {\r\n            this.usersHub = this.hubService.startHub(\"UsersListHub\", {\r\n                rootPath: this.shipsServiceUrls.authenticationServiceUrl + \"/signalr\",\r\n                logging: false,\r\n                listeners: {\r\n                    'setUsersList': this.setUsersList,\r\n                    'handleInvitation': this.handleInvitation,\r\n                    'handleRejection': this.handleRejection,\r\n                    'startGame': this.startGame\r\n                },\r\n                methods: ['InvitePlayer', 'AcceptInvitation', 'RejectInvitation']\r\n            });\r\n\r\n            this.$scope.$on('$stateChangeStart', () => {\r\n                this.usersHub.disconnect();\r\n            });\r\n        }\r\n\r\n        private setUsersList = (users: Models.Account.UserListModel[]) => {\r\n            var currentUserName: string = this.authService.authorizationData.getData().user_name;\r\n            for (var i in users) {\r\n                if (users[i].Name == currentUserName) {\r\n                    users[i].Id = null;\r\n                }\r\n            }\r\n\r\n            this.users = users;\r\n            this.$scope.$apply();\r\n        }\r\n\r\n        private invite(userId: string) {\r\n            if (!this.hasInvitedSomeone) {\r\n                this.hasInvitedSomeone = true;;\r\n                this.usersHub.invoke('InvitePlayer', userId, this.currentLocaleId);\r\n\r\n                setTimeout(() => {\r\n                    this.hasInvitedSomeone = false;\r\n                }, 3000);\r\n            }\r\n        }\r\n\r\n        private handleInvitation = (firstPlayer: Models.Account.UserListModel, firstLocaleId: number) => {\r\n            var modalInstance = this.$uibModal.open({\r\n                animation: true,\r\n                templateUrl: this.shipsViewPaths.invitationConfirm,\r\n                controller: 'invitationConfirmController',\r\n                size: 'md',\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                resolve: {\r\n                    name: function () {\r\n                        return firstPlayer.Name\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(() => {\r\n                this.acceptInvitation(firstPlayer, firstLocaleId);\r\n            }, () => {\r\n                this.usersHub.invoke('RejectInvitation', firstPlayer);\r\n            });\r\n        }\r\n\r\n        private handleRejection = (secondPlayer: Models.Account.UserListModel) => {\r\n            this.$rootScope.controller.errorMessage(\"Поканата към \" + secondPlayer.Name + \" беше отказана.\", 10000);\r\n        }\r\n\r\n        private acceptInvitation(otherPlayer: Models.Account.UserListModel, firstLocaleId: number) {\r\n            this.createGame(otherPlayer.Id, this.authService.authorizationData.getData().user_id)\r\n                .then((result: angular.IHttpPromiseCallbackArg<number>) => {\r\n                    var gameId: number = result.data;\r\n\r\n                    this.usersHub.invoke('AcceptInvitation', otherPlayer, gameId, firstLocaleId, this.currentLocaleId);\r\n                });\r\n        }\r\n\r\n        private startGame = (gameId: number, otherPlayer: Models.Account.UserListModel, serviceUrl : string) => {\r\n            var modalInstance = this.$uibModal.open({\r\n                animation: true,\r\n                templateUrl: this.shipsViewPaths.gameCreate,\r\n                controller: 'gameCreateController',\r\n                size: 'lg',\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                resolve: {\r\n                    gameId: function (): number {\r\n                        return gameId;\r\n                    },\r\n                    serviceUrl: function (): string {\r\n                        return serviceUrl;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        private createGame(firstPlayerId: string, secondPlayerId: string): angular.IHttpPromise<number> {\r\n            var model: Models.Game.CreateModel = {\r\n                first_player_id: firstPlayerId,\r\n                second_player_id: secondPlayerId\r\n            };\r\n\r\n            var url: string = this.getUrlFromCsList(this.authService.authorizationData.getData().locale_urls);\r\n            return this.$http.post<number>(url + \"/games\", model);\r\n        }\r\n\r\n        private getUrlFromCsList(csUrls: string): string {\r\n            var urls: string[] = csUrls.split(',');\r\n            var randomIdx: number = this.getRandomIntBetween(0, urls.length - 1);\r\n\r\n            return urls[randomIdx];\r\n        }\r\n\r\n        private getRandomIntBetween(min: number, max: number): number {\r\n            var randValue: string = (Math.random() * (max - min + 1)) + \"\";\r\n            return parseInt(randValue, 10) + min;\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers {\r\n    'use strict';\r\n\r\n    export interface IInvitationConfirmScope extends angular.IScope {\r\n        controller: IInvitationConfirmController;\r\n    }\r\n\r\n    export interface IInvitationConfirmController {\r\n        name: string;\r\n\r\n        cancel();\r\n        confirm();\r\n    }\r\n\r\n    export class InvitationConfirmController implements IInvitationConfirmController {\r\n        static $inject = ['$scope', '$uibModalInstance', 'name'];\r\n\r\n        constructor($scope: IInvitationConfirmScope, private $uibModalInstance: angular.ui.bootstrap.IModalServiceInstance, public name: string) {\r\n            $scope.controller = this;\r\n        }\r\n\r\n        public cancel() {\r\n            this.$uibModalInstance.dismiss('cancel');\r\n        }\r\n\r\n        public confirm () {\r\n            this.$uibModalInstance.close();\r\n        };\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers {\r\n    'use strict';\r\n\r\n    export interface IGameCreateScope extends angular.IScope {\r\n        controller: IGameCreateController;\r\n    }\r\n\r\n    export interface IGameCreateController {\r\n        POSITIONS_COUNT: number;\r\n        board: number[][];\r\n        selectedCells: number;\r\n        canAdd: boolean;\r\n        canComplete: boolean;\r\n        ships: Models.Game.ShipModel[];\r\n        inProgress: Models.Game.ShipModel;\r\n\r\n        addPosition(row: number, col: number);\r\n        removePosition(row: number, col: number);\r\n        addShip();\r\n        removeShip(shipIdx: number);\r\n        confirm();\r\n        reset();\r\n        canBeInShip(row, col);\r\n    }\r\n\r\n    export class GameCreateController implements IGameCreateController {\r\n        static $inject = ['$scope', '$http', '$state', '$uibModalInstance', 'authService', 'shipsWebPaths', 'gameId', 'serviceUrl'];\r\n\r\n        private MIN_SHIP_LENGTH: number = 2;\r\n        private MAX_SHIP_LENGTH: number = 4;\r\n        private MATRIX_SIZE: number = 10;\r\n        public POSITIONS_COUNT: number = 17;\r\n        private shipsNextIdx = 1;\r\n\r\n        public board: number[][];\r\n        public selectedCells: number;\r\n        public canAdd: boolean;\r\n        public canComplete: boolean;\r\n        public ships: Models.Game.ShipModel[];\r\n        public inProgress: Models.Game.ShipModel;\r\n\r\n        constructor($scope: IGameCreateScope, private $http: angular.IHttpService, private $state: angular.ui.IStateService,\r\n            private $uibModalInstance: angular.ui.bootstrap.IModalServiceInstance, private authService: Services.IAuthService,\r\n            private shipsWebPaths: Constants.ShipsWebPaths, private gameId: number, private serviceUrl: string) {\r\n            $scope.controller = this;\r\n\r\n            this.initBoard();\r\n            this.selectedCells = 0;\r\n            this.canAdd = false;\r\n            this.canComplete = false;\r\n            this.ships = [];\r\n            this.reset();\r\n        }\r\n\r\n        public addPosition(row: number, col: number) {\r\n            if (!this.canBeInShip(row, col)) {\r\n                return;\r\n            }\r\n\r\n            this.inProgress.positions.push({\r\n                x: col,\r\n                y: row\r\n            });\r\n            \r\n            this.setBoard();\r\n        }\r\n\r\n        public removePosition(row: number, col: number) {\r\n            var removeAt: number = this.inProgress.positions.lastIndexOf({\r\n                x: col,\r\n                y: row\r\n            });\r\n            \r\n            this.inProgress.positions.splice(removeAt, 1);\r\n            this.setBoard();\r\n        }\r\n\r\n        public addShip() {\r\n            if (!this.canAdd) {\r\n                return;\r\n            }\r\n\r\n            this.ships.push(this.inProgress);\r\n\r\n            this.reset();\r\n            this.setBoard();\r\n        }\r\n\r\n        public removeShip(shipIdx: number) {\r\n            for (var i in this.ships) {\r\n                if (this.ships[i].idx == shipIdx) {\r\n                    this.ships.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.setBoard();\r\n        }\r\n\r\n        public canBeInShip(row: number, col: number) {\r\n            if (this.inProgress.positions.length < 1) {\r\n                return true;\r\n            }\r\n\r\n            if (this.inProgress.positions.length >= this.MAX_SHIP_LENGTH || this.selectedCells >= this.POSITIONS_COUNT || !this.areCoordsInBounds(row, col)) {\r\n                return false;\r\n            }\r\n\r\n            var moreThanOne: boolean = false;\r\n            if (this.inProgress.positions.length > 1) {\r\n                moreThanOne = true;\r\n            }\r\n            \r\n            if (!this.isNextToAnyPosition(row, col) || moreThanOne && !this.isInSameDimension(row, col)) {\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        public confirm() {\r\n            if (!this.canComplete) {\r\n                return;\r\n            }\r\n\r\n            this.addShip();\r\n\r\n            var model: Models.Game.GameSetupCreateModel = {\r\n                player_id: this.authService.authorizationData.getData().user_id,\r\n                ships: this.ships\r\n            };\r\n\r\n            this.$http.post(this.serviceUrl + \"/games/\" + this.gameId + \"/ships\", model)\r\n                .then(this.onCreateComplete);\r\n\r\n            this.$uibModalInstance.close();\r\n        }\r\n\r\n        public reset() {\r\n            this.inProgress = {\r\n                idx: this.shipsNextIdx++,\r\n                positions: []\r\n            };\r\n\r\n            this.setBoard();\r\n        }\r\n\r\n        private onCreateComplete = () => {\r\n            this.$state.go(this.shipsWebPaths.game.state, {\r\n                game_id: this.gameId,\r\n                service_url: this.serviceUrl\r\n            });\r\n        }\r\n\r\n        private initBoard() {\r\n            this.board = [];\r\n            for (var i = 0; i < this.MATRIX_SIZE; i++) {\r\n                this.board[i + 0] = [];\r\n                for (var j = 0; j < this.MATRIX_SIZE; j++) {\r\n                    this.board[i + 0][j + 0] = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        private isShipValid(): boolean {\r\n            var ship: Models.Game.ShipModel = this.inProgress;\r\n\r\n            if (ship.positions.length < this.MIN_SHIP_LENGTH || ship.positions.length > this.MAX_SHIP_LENGTH) {\r\n                return false\r\n            }\r\n\r\n            if (this.getLongestDist(ship.positions) > ship.positions.length - 1) {\r\n                return false;\r\n            }\r\n\r\n            var firstPos: Models.Game.PositionModel = ship.positions[0];\r\n            for (var i in ship.positions) {\r\n                if (ship.positions[i].x != firstPos.x && ship.positions[i].y != firstPos.y) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private getLongestDist(positions: Models.Game.PositionModel[]) {\r\n            var minX: number = 10, minY: number = 10, maxX: number = -1, maxY: number = -1;\r\n            for (var i in positions) {\r\n                if (minX > positions[i].x) {\r\n                    minX = positions[i].x;\r\n                }\r\n                if (maxX > positions[i].x) {\r\n                    maxX = positions[i].x;\r\n                }\r\n                if (minY > positions[i].y) {\r\n                    minY = positions[i].y;\r\n                }\r\n                if (maxY > positions[i].y) {\r\n                    maxY = positions[i].y;\r\n                }\r\n            }\r\n\r\n            return (maxX - minX) + (maxY - minY);\r\n        }\r\n\r\n        private areCoordsInBounds(row: number, col: number): boolean {\r\n            return row < this.MATRIX_SIZE\r\n                && row >= 0\r\n                && col < this.MATRIX_SIZE\r\n                && col >= 0;\r\n        }\r\n\r\n        private isNextToAnyPosition(row: number, col: number): boolean {\r\n            for (var i in this.inProgress.positions) {\r\n                var pos: Models.Game.PositionModel = this.inProgress.positions[i];\r\n                if (((row - pos.y) == 1 && (col - pos.x) == 0)\r\n                    || ((row - pos.y) == -1 && (col - pos.x) == 0)\r\n                    || ((row - pos.y) == 0 && (col - pos.x) == 1)\r\n                    || ((row - pos.y) == 0 && (col - pos.x) == -1)) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        private isInSameDimension(row: number, col: number): boolean {\r\n            var isHorizontal: boolean = this.inProgress.positions[0].y == this.inProgress.positions[1].y;\r\n            if (isHorizontal) {\r\n                return row == this.inProgress.positions[0].y;\r\n            }\r\n            else {\r\n                return col == this.inProgress.positions[0].x;\r\n            }\r\n        }\r\n\r\n        private setBoard() {\r\n            this.initBoard();\r\n\r\n            for (var i in this.ships) {\r\n                for (var idx in this.ships[i].positions) {\r\n                    var pos: Models.Game.PositionModel = this.ships[i].positions[idx];\r\n                    this.board[pos.y][pos.x] = this.ships[i].idx;\r\n                }\r\n            }\r\n\r\n            for (var idx in this.inProgress.positions) {\r\n                var pos: Models.Game.PositionModel = this.inProgress.positions[idx];\r\n                this.board[pos.y][pos.x] = -1;\r\n            }\r\n\r\n            this.selectedCells = this.inProgress.positions.length;\r\n            for (var i in this.ships) {\r\n                this.selectedCells += this.ships[i].positions.length;\r\n            }\r\n\r\n            this.canAdd = this.isShipValid();\r\n            this.canComplete = this.selectedCells == this.POSITIONS_COUNT;\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Controllers {\r\n    'use strict';\r\n\r\n    export interface IGameScope extends angular.IScope {\r\n        controller: IGameController;\r\n    }\r\n\r\n    export interface IGameController {\r\n        POSITIONS_COUNT: number;\r\n        boardCurrent: number[][];\r\n        boardOther: number[][];\r\n        hitCurrent: number;\r\n        hitOther: number;\r\n        isCurrentTurn: boolean;\r\n        playerNames: string[];\r\n\r\n        shoot(row: number, col: number);\r\n    }\r\n\r\n    export class GameController implements IGameController {\r\n        static $inject = ['$scope', '$http', '$state', '$stateParams', 'authService', 'hubService', 'shipsWebPaths', 'Hub'];\r\n\r\n        private MATRIX_SIZE: number = 10;\r\n        public POSITIONS_COUNT: number = 17;\r\n        private serviceUrl: string;\r\n        private gameId: number;\r\n        private game: Models.Game.GameDetailsModel;\r\n        private hub: ngSignalr.Hub;\r\n        private wasAlertShown: boolean = false;\r\n\r\n        public boardCurrent: number[][];\r\n        public boardOther: number[][];\r\n        public hitCurrent: number;\r\n        public hitOther: number;\r\n        public isCurrentTurn: boolean;\r\n        public playerNames: string[];\r\n\r\n        constructor(private $scope: IGameScope, private $http: angular.IHttpService,\r\n            private $state: angular.ui.IStateService, private $stateParams: angular.ui.IStateParamsService,\r\n            private authService: Services.IAuthService, private hubService: Services.IHubService,\r\n            private shipsWebPaths: Constants.ShipsWebPaths, private Hub: ngSignalr.HubFactory) {\r\n            $scope.controller = this;\r\n\r\n            if (this.$stateParams[\"game_id\"] == null || this.$stateParams[\"service_url\"] == null) {\r\n                $state.go(shipsWebPaths.home.state);\r\n            }\r\n\r\n            this.serviceUrl = this.$stateParams[\"service_url\"];\r\n            this.gameId = this.$stateParams[\"game_id\"];\r\n            this.createHub();\r\n            this.refreshGameDetails();\r\n        }\r\n\r\n        private createHub(): void {\r\n            this.hub = this.hubService.startHub(\"GameHub\", {\r\n                rootPath: this.serviceUrl + \"/signalr\",\r\n                logging: false,\r\n                listeners: {\r\n                    'handleNotification': this.handleNotification\r\n                },\r\n                methods: ['Notify', 'RegisterConnection']\r\n            });\r\n\r\n            this.hub.connection.start()\r\n                .then(() => {\r\n                    this.hub.invoke('RegisterConnection', this.gameId);\r\n                });\r\n\r\n            this.$scope.$on('$stateChangeStart', () => {\r\n                this.hub.disconnect();\r\n            });\r\n        }\r\n\r\n        public shoot(row: number, col: number) {\r\n            if (this.canShoot(row, col)) {\r\n                this.boardOther[row][col] = -1;\r\n\r\n                var data: Models.Game.ShotCreateModel = {\r\n                    x: col,\r\n                    y: row,\r\n                    player_id: this.authService.authorizationData.getData().user_id\r\n                };\r\n\r\n                this.$http.post(this.serviceUrl + \"/games/\" + this.gameId + \"/shots\", data)\r\n                    .then(this.notify);\r\n            }\r\n        }\r\n\r\n        private notify = () => {\r\n            this.hub.invoke('Notify', this.gameId);\r\n        }\r\n\r\n        private handleNotification = (gameId: number, playerNames: string[]) => {\r\n            if (gameId == this.gameId) {\r\n                this.playerNames = playerNames;\r\n                this.refreshGameDetails();\r\n            }\r\n        }\r\n\r\n        private refreshGameDetails() {\r\n            this.$http.get(this.serviceUrl + \"/games/\" + this.gameId, {\r\n                params: {\r\n                    user_id: this.authService.authorizationData.getData().user_id\r\n                }\r\n            }).then(this.onDetailsResult);\r\n        }\r\n\r\n        private onDetailsResult = (response: angular.IHttpPromiseCallbackArg<Models.Game.GameDetailsModel>) => {\r\n            this.game = response.data;\r\n            this.setBoards();\r\n\r\n            if (this.game.winner_player_id != null) {\r\n                var playerName: string;\r\n                if (this.game.current_side.player.id == this.game.winner_player_id) {\r\n                    playerName = this.game.current_side.player.name;\r\n                }\r\n                else {\r\n                    playerName = this.game.other_side.player.name;\r\n                }\r\n\r\n                if (!this.wasAlertShown) {\r\n                    alert(playerName + \" won!\");\r\n                    this.wasAlertShown = true;\r\n                }\r\n                this.$state.go(this.shipsWebPaths.home.state);\r\n            }\r\n        }\r\n\r\n        private setBoards() {\r\n            this.initBoards();\r\n\r\n            this.setBoardSide(this.game.current_side, this.boardCurrent);\r\n            this.setBoardSide(this.game.other_side, this.boardOther);\r\n            this.setHits();\r\n            this.setCurrentTurn();\r\n        }\r\n\r\n        private setBoardSide(side: Models.Game.GameSideModel, board: number[][]) {\r\n            if (side.ships != null) {\r\n                for (var i in side.ships) {\r\n                    var ship: Models.Game.ShipModel = side.ships[i];\r\n\r\n                    for (var idx in ship.positions) {\r\n                        var pos: Models.Game.PositionModel = ship.positions[idx];\r\n                        board[pos.y][pos.x] = parseInt(i) + 1;\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (var i in side.shots) {\r\n                var shot: Models.Game.ShotModel = side.shots[i];\r\n\r\n                if (shot.is_hit) {\r\n                    board[shot.y][shot.x] = -1000;\r\n                }\r\n                else {\r\n                    board[shot.y][shot.x] = -1;\r\n                }\r\n            }\r\n        }\r\n\r\n        private initBoards() {\r\n            this.boardCurrent = [];\r\n            this.boardOther = [];\r\n            for (var i = 0; i < this.MATRIX_SIZE; i++) {\r\n                this.boardCurrent[i + 0] = [];\r\n                this.boardOther[i + 0] = [];\r\n                for (var j = 0; j < this.MATRIX_SIZE; j++) {\r\n                    this.boardCurrent[i + 0][j + 0] = 0;\r\n                    this.boardOther[i + 0][j + 0] = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        private setHits() {\r\n            this.hitCurrent = this.getHitsCount(this.boardCurrent);\r\n            this.hitOther = this.getHitsCount(this.boardOther);\r\n        }\r\n\r\n        private getHitsCount(board: number[][]): number {\r\n            var count: number = 0;\r\n            for (var i = 0; i < this.MATRIX_SIZE; i++) {\r\n                for (var j = 0; j < this.MATRIX_SIZE; j++) {\r\n                    if (board[i][j] < -1) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return count;\r\n        }\r\n\r\n        private setCurrentTurn() {\r\n            this.isCurrentTurn = this.game.next_shot_player_id == this.game.current_side.player.id;\r\n        }\r\n\r\n        private canShoot(row: number, col: number): boolean {\r\n            return this.boardOther[row][col] == 0 && this.isCurrentTurn;\r\n        }\r\n    }\r\n}","module Ships.Web.Directives {\r\n    'use strict';\r\n\r\n    export class ModalDirective {\r\n        static $inject = ['shipsViewPaths'];\r\n\r\n        constructor(shipsViewPaths: Constants.ShipsViewPaths) {\r\n            var directive: angular.IDirective = <angular.IDirective>{};\r\n\r\n            directive.restrict = 'E';\r\n            directive.replace=  true;\r\n            directive.transclude = true;\r\n            directive.templateUrl = shipsViewPaths.shared.modal;\r\n            directive.link = function postLink(scope: IModalScope, element: HTMLElement, attrs: IModalAttrs) {\r\n                    scope.title = attrs.title;\r\n            };\r\n\r\n            return directive;\r\n        }\r\n    }\r\n\r\n    export interface IModalScope extends angular.IScope {\r\n        title: string;\r\n    }\r\n\r\n    export interface IModalAttrs {\r\n        title: string;\r\n    }\r\n}","module Ships.Web.Filters {\r\n    'use strict';\r\n\r\n    //TODO: refactor\r\n    export function stringFormat() {\r\n        var s = arguments[0];\r\n        for (var i = 0; i < arguments.length - 1; i++) {\r\n            var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\r\n            s = s.replace(reg, arguments[i + 1]);\r\n        }\r\n        return s;\r\n    };\r\n}","module Ships.Web.Models.Account {\r\n    'use strict';\r\n\r\n    export class LoginData {\r\n        userName: string;\r\n        password: string;\r\n        rememberMe: string;\r\n    }\r\n\r\n    export class UserCreateModel {\r\n        username: string;\r\n        password: string;\r\n    }\r\n\r\n    export class LoginValidation {\r\n        usernameMinLength: number;\r\n        usernameMaxLength: number;\r\n        passwordMinLength: number;\r\n        passwordMaxLength: number;\r\n    }\r\n\r\n    export class Authentication {\r\n        isAuth: boolean;\r\n        userName: string;\r\n        useRefreshTokens: boolean;\r\n    }\r\n\r\n    export class AuthorizedData {\r\n        access_token: string;\r\n        user_id: string;\r\n        user_name: string;\r\n        locale_id: number;\r\n        locale_urls: string;\r\n    }\r\n\r\n    export class UserListModel {\r\n        Id: string;\r\n        Name: string;\r\n    }\r\n\r\n    export class UserGameModel {\r\n        id: string;\r\n        name: string;\r\n    }\r\n}","module Ships.Web.Models.Misc {\r\n    'use strict';\r\n\r\n    export class ErrorModel {\r\n        constructor(public message: string, public errorList: string[]) {\r\n        }\r\n    }\r\n}\r\n\r\n","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Services {\r\n    'use strict';\r\n\r\n    export class AuthInterceptorService implements angular.IHttpInterceptor {\r\n        static $inject = ['$q', '$rootScope', '$injector', 'localStorageService', 'shipsWebPaths'];\r\n        \r\n        private static TOKEN_HEADERS: angular.IHttpRequestConfigHeaders = { 'Content-Type': 'application/x-www-form-urlencoded' };\r\n\r\n        public authentication: Models.Account.Authentication;\r\n        public authorizationData: IAuthorizationData;\r\n\r\n        public static Factory($q: angular.IQService, $rootScope: IRootScope, $injector: angular.auto.IInjectorService, localStorageService: angular.local.storage.ILocalStorageService, shipsWebPaths: Constants.ShipsWebPaths): AuthInterceptorService {\r\n            return new AuthInterceptorService($q, $rootScope, $injector, localStorageService, shipsWebPaths);\r\n        }\r\n\r\n        constructor(\r\n            private $q: angular.IQService,\r\n            private $rootScope: IRootScope,\r\n            private $injector: angular.auto.IInjectorService,\r\n            private localStorageService: angular.local.storage.ILocalStorageService,\r\n            private shipsWebPaths: Constants.ShipsWebPaths) {\r\n        }\r\n\r\n        public request = (config: angular.IRequestConfig) => {\r\n            config.headers = config.headers || {};\r\n\r\n            var authData = this.getAuthService().authorizationData.getData();\r\n            if (authData) {\r\n                config.headers['Authorization'] = 'Bearer ' + authData.access_token;\r\n            }\r\n\r\n            return config;\r\n        }\r\n\r\n        public responseError = (rejection: angular.IHttpPromiseCallbackArg<Models.Error.AuthError>): angular.IPromise<Models.Account.AuthorizedData> => {\r\n            if (rejection.status === 401 || this.$rootScope.controller.hasRemoteTokenRequestFailed(rejection)) {\r\n                this.redirectToLogin();\r\n            }\r\n\r\n            return this.$q.reject(rejection);\r\n        }\r\n\r\n        private retryRequest(config: angular.IRequestConfig, deferred: angular.IDeferred<Models.Account.AuthorizedData>) {\r\n            function successCallback(response) {\r\n                deferred.resolve(response);\r\n            }\r\n\r\n            function errorCallback(response) {\r\n                deferred.reject(response);\r\n            }\r\n\r\n            this.get$http()(config).then(successCallback, errorCallback);\r\n        }\r\n\r\n        private redirectToLogin() {\r\n            this.get$state().go(this.shipsWebPaths.accountLogin.state);\r\n        }\r\n\r\n        private get$http(): angular.IHttpService {\r\n            return this.$injector.get<angular.IHttpService>('$http');\r\n        }\r\n\r\n        private getAuthService(): IAuthService {\r\n            return this.$injector.get<IAuthService>('authService');\r\n        }\r\n\r\n        private get$state(): angular.ui.IStateService {\r\n            return this.$injector.get<angular.ui.IStateService>('$state');\r\n        }\r\n\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Services {\r\n    'use strict';\r\n\r\n    export interface IAuthService {\r\n        authentication: Models.Account.Authentication;\r\n        authorizationData: IAuthorizationData;\r\n\r\n        login(loginData: Models.Account.LoginData): angular.IPromise<Models.Account.AuthorizedData>;\r\n        register(user: Models.Account.UserCreateModel): angular.IHttpPromise<any>;\r\n        logOut();\r\n        fillAuthData();\r\n    }\r\n\r\n    export interface IAuthorizationData {\r\n        getData(): Models.Account.AuthorizedData;\r\n        setData(data: Models.Account.AuthorizedData);\r\n        removeData();\r\n    }\r\n\r\n    export class AuthService implements IAuthService {\r\n        static $inject = ['$http', '$q', 'localStorageService', 'shipsServiceUrls', 'shipsSettings'];\r\n\r\n        private static TOKEN_HEADERS: angular.IHttpRequestConfigHeaders = { 'Content-Type': 'application/x-www-form-urlencoded' };\r\n\r\n        private loginData: Models.Account.LoginData;\r\n\r\n        public authentication: Models.Account.Authentication;\r\n        public authorizationData: IAuthorizationData;\r\n\r\n        constructor(private $http: angular.IHttpService,\r\n            private $q: angular.IQService,\r\n            private localStorageService: angular.local.storage.ILocalStorageService,\r\n            private shipsServiceUrls: Constants.ShipsServiceUrls,\r\n            private shipsSettings: Constants.ShipsSettings) {\r\n            this.authorizationData = new AuthorizationData(localStorageService);\r\n            this.authentication = new Models.Account.Authentication();\r\n        }\r\n\r\n        public login(loginData: Models.Account.LoginData): angular.IPromise<Models.Account.AuthorizedData> {\r\n            this.loginData = loginData;\r\n            var data: string = \"grant_type=password&username=\" + loginData.userName + \"&password=\" + loginData.password + \"&client_id=\" + this.shipsSettings.clientId;\r\n            \r\n            return this.$http.post(this.shipsServiceUrls.authenticationServiceUrl, data, { headers: AuthService.TOKEN_HEADERS })\r\n                .success(this.onLoginSuccess)\r\n                .error(this.onLoginFail);\r\n        }\r\n\r\n        public register(user: Models.Account.UserCreateModel): angular.IHttpPromise<any> {\r\n            return this.$http.post(this.shipsServiceUrls.authenticationServiceUrl + \"/api/users\", user);\r\n        }\r\n\r\n        public logOut() {\r\n            this.authorizationData.removeData();\r\n\r\n            this.authentication.isAuth = false;\r\n            this.authentication.userName = \"\";\r\n            this.authentication.useRefreshTokens = false;\r\n        }\r\n\r\n        public fillAuthData() {\r\n            var authData = this.authorizationData.getData();\r\n            if (authData) {\r\n                this.authentication.isAuth = true;\r\n                this.authentication.userName = authData.user_name;\r\n                this.authentication.useRefreshTokens = true;\r\n            }\r\n        }\r\n\r\n        private onLoginSuccess = (response: Models.Account.AuthorizedData): Models.Account.AuthorizedData => {\r\n            response.user_name = this.loginData.userName;\r\n            this.authorizationData.setData(response);\r\n\r\n            this.authentication.isAuth = true;\r\n            this.authentication.userName = this.loginData.userName;\r\n            this.authentication.useRefreshTokens = false;\r\n\r\n            return response;\r\n        }\r\n\r\n        private onLoginFail = (response: Models.Account.AuthorizedData): void => {\r\n            this.logOut();\r\n            \r\n            return null;\r\n        }\r\n    }\r\n\r\n    class AuthorizationData implements IAuthorizationData {\r\n        private static AUTH_DATA_KEY = 'authorizationData';\r\n\r\n        constructor(private localStorageService: angular.local.storage.ILocalStorageService) {\r\n        }\r\n\r\n        public getData(): Models.Account.AuthorizedData {\r\n            return this.localStorageService.get<Models.Account.AuthorizedData>(AuthorizationData.AUTH_DATA_KEY);\r\n        }\r\n\r\n        public setData(data: Models.Account.AuthorizedData) {\r\n            this.localStorageService.set(AuthorizationData.AUTH_DATA_KEY, data);\r\n        }\r\n        public removeData () {\r\n            this.localStorageService.remove(AuthorizationData.AUTH_DATA_KEY);\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Services {\r\n    'use strict';\r\n\r\n    export interface IHubService {\r\n        startHub(hubName: string, options: ngSignalr.HubOptions): ngSignalr.Hub;\r\n    }\r\n\r\n    export class HubService implements IHubService {\r\n        static $inject = ['$state', 'shipsWebPaths', 'authService', 'Hub'];\r\n\r\n        private hasConnectFailed: boolean = false;\r\n\r\n        public hub: ngSignalr.Hub;\r\n\r\n        constructor(private $state: angular.ui.IStateService,\r\n            public shipsWebPaths: Constants.ShipsWebPaths,\r\n            private authService: Services.AuthService,\r\n            private Hub: ngSignalr.HubFactory) {\r\n        }\r\n\r\n        startHub(hubName: string, options: ngSignalr.HubOptions): ngSignalr.Hub {\r\n            var authData: Models.Account.AuthorizedData = this.authService.authorizationData.getData();\r\n            var accessToken: string = authData != null ? authData.access_token : null;\r\n            if (!options.queryParams) {\r\n                options.queryParams = {};\r\n            }\r\n            options.queryParams['access_token'] = \"Bearer \" + accessToken;\r\n\r\n            this.hub = new this.Hub(hubName, options);\r\n            this.createHub();\r\n\r\n            return this.hub;\r\n        }\r\n\r\n        private createHub() {\r\n            this.hub.connect();\r\n            this.hub.connection.start()\r\n                .done(this.onHubConnectSuccess)\r\n                .fail(this.onHubConnectFail);\r\n        }\r\n\r\n        private onHubConnectSuccess = (response: JQueryPromise<any>) => {\r\n            console.log('Now connected, connection ID=' + this.hub.connection.id);\r\n        }\r\n\r\n        private onHubConnectFail = (promise: any) => {\r\n            if (promise.context.status == 401) {\r\n                this.redirectToLogin();\r\n            }\r\n\r\n            console.log('Could not connect');\r\n        }\r\n\r\n        private redirectToLogin() {\r\n            this.$state.go(this.shipsWebPaths.accountLogin.state);\r\n        }\r\n    }\r\n}","/// <reference path=\"../_all.ts\" />\r\n\r\nmodule Ships.Web.Services {\r\n    'use strict';\r\n\r\n    export interface IErrorInterceptorService {\r\n        responseError(errorResponse: angular.IHttpPromiseCallbackArg<Models.Error.BaseApiError>);\r\n    }\r\n\r\n    export class ErrorInterceptorService implements IErrorInterceptorService {\r\n        static $inject = ['$q', '$rootScope'];\r\n\r\n        public static Factory($q: angular.IQService, $rootScope: IRootScope): ErrorInterceptorService {\r\n            return new ErrorInterceptorService($q, $rootScope);\r\n        }\r\n\r\n        constructor(private $q: angular.IQService, private $rootScope: IRootScope) {\r\n        }\r\n\r\n        public responseError = (errorResponse: angular.IHttpPromiseCallbackArg<Models.Error.BaseApiError>) => {\r\n            switch (errorResponse.status) {\r\n                case 401:\r\n                    break;\r\n                case 400:\r\n                    if (!this.$rootScope.controller.hasRemoteTokenRequestFailed(errorResponse)\r\n                        && !this.$rootScope.controller.isPasswordSending(errorResponse)) {\r\n\r\n                        this.handleBadRequest(errorResponse.data);\r\n                    }\r\n                    break;\r\n                case 409:\r\n                    if (errorResponse.data) {\r\n                        var message: string = errorResponse.data.message;\r\n                        var globalErrors: string[] = this.getGlobalErrors(errorResponse.data);\r\n\r\n                        this.showMessage(message, 12000, globalErrors);\r\n                        break;\r\n                    }\r\n                case 403:\r\n                case 500:\r\n                    if (errorResponse.data) {\r\n                        var globalErrors: string[] = this.getGlobalErrors(errorResponse.data);\r\n\r\n                        this.showMessage(errorResponse.data.message, 6000);\r\n                        break;\r\n                    }\r\n                default: {\r\n                    if (errorResponse.status > 0 && errorResponse.data) {\r\n                        var globalErrors: string[] = this.getGlobalErrors(errorResponse.data);\r\n\r\n                        this.showMessage('Код ' + errorResponse.status + ': ' + errorResponse.data.message, 6000, globalErrors);\r\n                    }\r\n                    else {\r\n                        this.showMessage(JSON.stringify(errorResponse), 6000);\r\n                    };\r\n                }\r\n            };\r\n\r\n            return this.$q.reject(errorResponse);\r\n        }\r\n\r\n        private handleBadRequest(badRequestResponse: Models.Error.BaseApiError) {\r\n            var message = this.getMessage(badRequestResponse);\r\n            var globalErrors: string[];\r\n\r\n            var badReq: Models.Error.BadRequestApiError = badRequestResponse as Models.Error.BadRequestApiError;\r\n            if (badReq.model_errors != null) {\r\n                globalErrors = this.getModelErrors(badReq);\r\n            }\r\n            else {\r\n                globalErrors = this.getGlobalErrors(badReq);\r\n            }\r\n\r\n            this.showMessage(message, 6000, globalErrors);\r\n        }\r\n\r\n        private showMessage(content: string, time: number, errorList: string[] = null) {\r\n            this.$rootScope.controller.errorMessage(content, time, errorList);\r\n        }\r\n\r\n        private getMessage(badRequestResponse: Models.Error.BaseApiError) {\r\n            if (badRequestResponse.message) {\r\n                return badRequestResponse.message;\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        }\r\n\r\n        private getGlobalErrors(errorResponse: Models.Error.BaseApiError) {\r\n            return errorResponse.errors;\r\n        }\r\n\r\n        private getModelErrors(badRequestResponse: Models.Error.BadRequestApiError) {\r\n            if (badRequestResponse.model_errors && badRequestResponse.model_errors[\"\"]) {\r\n                return badRequestResponse.model_errors[\"\"].errors;\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../tools/typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-ui-bootstrap.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-ui-router.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-local-storage.d.ts\" />\r\n/// <reference path=\"../tools/typings/angularjs/angular-loading-bar.d.ts\" />\r\n/// <reference path=\"../tools/typings/ladda/ladda.d.ts\" />\r\n/// <reference path=\"../tools/typings/signalr/signalr.d.ts\" />\r\n/// <reference path=\"../tools/typings/angular-signalr-hub/angular-signalr-hub.d.ts\" />\r\n/// <reference path=\"../tools/typings/custom/serviceUrlConstants.d.ts\" />\r\n\r\n/// <reference path=\"app.ts\" />\r\n/// <reference path=\"rootController.ts\" />\r\n\r\n/// <reference path=\"configurations/applicationConfiguration.ts\" />\r\n/// <reference path=\"configurations/interceptorsConfiguration.ts\" />\r\n/// <reference path=\"configurations/routeConfiguration.ts\" />\r\n/// <reference path=\"configurations/storageConfiguration.ts\" />\r\n\r\n/// <reference path=\"constants/applicationConstants.ts\" />\r\n/// <reference path=\"constants/settingsConstants.ts\" />\r\n\r\n/// <reference path=\"controllers/errorController.ts\" />\r\n/// <reference path=\"controllers/indexController.ts\" />\r\n/// <reference path=\"controllers/account/loginController.ts\" />\r\n/// <reference path=\"controllers/account/registerController.ts\" />\r\n/// <reference path=\"controllers/homeController.ts\" />\r\n/// <reference path=\"controllers/invitationConfirmController.ts\" />\r\n/// <reference path=\"controllers/gameCreateController.ts\" />\r\n/// <reference path=\"controllers/gameController.ts\" />\r\n\r\n/// <reference path=\"directives/modalDirective.ts\" />\r\n\r\n/// <reference path=\"filters/stringFormat.ts\" />\r\n\r\n/// <reference path=\"models/account.ts\" />\r\n/// <reference path=\"models/misc.ts\" />\r\n\r\n/// <reference path=\"services/authInterceptorService.ts\" />\r\n/// <reference path=\"services/authService.ts\" />\r\n/// <reference path=\"services/hubService.ts\" />\r\n/// <reference path=\"services/errorInterceptorService.ts\" />","/// <reference path=\"_all.ts\" />\r\n\r\nmodule Ships.Web {\r\n    'use strict';\r\n\r\n    import Configurations = Ships.Web.Configurations;\r\n    import Constants = Ships.Web.Constants;\r\n    import Controllers = Ships.Web.Controllers;\r\n    import Directives = Ships.Web.Directives;\r\n    import Filters = Ships.Web.Filters;\r\n    import Services = Ships.Web.Services;\r\n\r\n    var app: angular.IModule = angular.module('ships-web',\r\n        ['ui.router', 'LocalStorageModule', 'angular-loading-bar', 'ships-web-service-url', 'ui.bootstrap', 'ng-file-model', 'SignalR'])\r\n        //constants\r\n        .constant('shipsWebPaths', new Constants.ShipsWebPaths())\r\n        .constant('shipsViewPaths', new Constants.ShipsViewPaths())\r\n        .constant('shipsSettings', new Constants.ShipsSettings())\r\n        //directives\r\n        .directive('modal', (shipsViewPaths: Constants.ShipsViewPaths) => new Directives.ModalDirective(shipsViewPaths))\r\n        //filters\r\n        .filter('stringFormat', Filters.stringFormat)\r\n        //services\r\n        .service('authService', Services.AuthService)\r\n        .service('hubService', Services.HubService)\r\n        //controllers\r\n        .controller(\"errorController\", Controllers.ErrorController)\r\n        .controller(\"homeController\", Controllers.HomeController)\r\n        .controller(\"invitationConfirmController\", Controllers.InvitationConfirmController)\r\n        .controller(\"gameCreateController\", Controllers.GameCreateController)\r\n        .controller(\"gameController\", Controllers.GameController)\r\n        .controller(\"indexController\", Controllers.IndexController)\r\n        .controller(\"loginController\", Controllers.Account.LoginController)\r\n        .controller(\"account.registerController\", Controllers.Account.RegisterController)\r\n        //configuration\r\n        .config(['cfpLoadingBarProvider', Configurations.configureLoadingBar])\r\n        .config(['$httpProvider', Configurations.confugreInterceptoprs])\r\n        .config(['$stateProvider', '$urlRouterProvider', '$locationProvider', 'shipsWebPaths', 'shipsViewPaths', 'shipsServiceUrls', Configurations.configureRouting])\r\n        .config(['localStorageServiceProvider', Configurations.configureLocalStorage])\r\n        //custom initialization\r\n        .run(($rootScope: IRootScope, $state: angular.ui.IStateService, $uibModal: angular.ui.bootstrap.IModalService,\r\n                authService: Services.IAuthService, shipsServiceUrls: Constants.ShipsServiceUrls, shipsWebPaths: Constants.ShipsWebPaths,\r\n                shipsViewPaths: Constants.ShipsViewPaths) =>\r\n            initialize($rootScope, $state, $uibModal, authService, shipsServiceUrls, shipsWebPaths, shipsViewPaths));\r\n    \r\n    function initialize($rootScope: IRootScope, $state: angular.ui.IStateService, $uibModal: angular.ui.bootstrap.IModalService, authService: Services.IAuthService,\r\n        shipsServiceUrls: Constants.ShipsServiceUrls, shipsWebPaths: Constants.ShipsWebPaths, shipsViewPaths: Constants.ShipsViewPaths) {\r\n        $rootScope.controller = new RootController($rootScope, $state, $uibModal, authService, shipsServiceUrls, shipsWebPaths, shipsViewPaths);\r\n    }\r\n}","module Ships.Web.Models.Error {\r\n    'use strict';\r\n\r\n    export class BaseApiError {\r\n        message: string;\r\n        errors: string[];\r\n    }\r\n\r\n    export class BadRequestApiError extends BaseApiError {\r\n        model_errors: { [propertyName: string]: BadRequest; };\r\n    }\r\n\r\n    export class AuthError {\r\n        error: string;\r\n    }\r\n\r\n    class BadRequest {\r\n        errors: string[];\r\n        exceptions: string[];\r\n    }\r\n}","module Ships.Web.Models.Game {\r\n    'use strict';\r\n\r\n    export class CreateModel {\r\n        first_player_id: string;\r\n        second_player_id: string;\r\n    }\r\n\r\n    export class GameSetupCreateModel {\r\n        player_id: string;\r\n        ships: ShipModel[];\r\n    }\r\n\r\n    export class ShipModel {\r\n        idx: number;\r\n        positions: PositionModel[];\r\n    }\r\n\r\n    export class PositionModel {\r\n        x: number;\r\n        y: number;\r\n    }\r\n\r\n    export class GameDetailsModel {\r\n        id: number;\r\n        current_side: GameSideModel;\r\n        other_side: GameSideModel;\r\n        next_shot_player_id: string;\r\n        winner_player_id: string;\r\n    }\r\n\r\n    export class GameSideModel {\r\n        player: Account.UserGameModel;\r\n        ships: ShipModel[];\r\n        shots: ShotModel[];\r\n    }\r\n\r\n    export class ShotModel extends PositionModel {\r\n        is_hit: boolean;\r\n    }\r\n\r\n    export class ShotCreateModel extends PositionModel {\r\n        player_id: string;\r\n    }\r\n}"],"sourceRoot":"/source/"}